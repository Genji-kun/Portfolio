"use client";

import { useInView, motion } from 'framer-motion';
import React, { useEffect, useRef, useState } from 'react';

const CertificationsText = () => {

    const textRef = useRef(null);
    const isInView = useInView(textRef);
    const [showText, setShowText] = useState(isInView);

    useEffect(() => {
        if (!isInView) {
            setShowText(false)
        } else {
            setShowText(true)
        }
    }, [isInView])


    const pathVariants = {
        initial: { pathLength: 0, opacity: 0 },
        animate: { pathLength: 1, opacity: 1, transition: { duration: 2, ease: "easeInOut" } }
    }

    const fillVariants = {
        initial: { fillOpacity: 0 },
        animate: { fillOpacity: 1, transition: { delay: 2, duration: 1 } }
    }


    return (
        <motion.div
            ref={textRef}
            id="about"
            className="justify-center items-center text-background flex w-screen h-[80vh] translate-y-[10vh] p-10 xl:p-0">
            {showText ? <>
                <motion.svg fill="white" variants={fillVariants} initial="initial" animate="animate" width="986" height="93" viewBox="0 0 986 93" xmlns="http://www.w3.org/2000/svg">
                    <motion.path variants={pathVariants} initial="initial" animate="animate" d="M937.323 88.7881L937.33 88.7912L937.337 88.7942C942.145 90.8549 947.532 91.875 953.48 91.875C959.773 91.875 965.271 90.6842 969.941 88.2628L969.947 88.2596C974.668 85.7705 978.271 82.4858 980.71 78.3937C983.218 74.328 984.48 69.9827 984.48 65.375C984.48 59.7286 983.155 55.1145 980.397 51.6388C977.8 48.1793 974.584 45.6125 970.756 43.9588C967.112 42.3487 962.395 40.7508 956.621 39.1609L956.615 39.1594C952.299 37.9972 948.925 36.9256 946.477 35.9465C944.094 34.9934 942.136 33.7358 940.58 32.1858C939.196 30.6466 938.48 28.6936 938.48 26.25C938.48 22.575 939.679 19.8868 941.983 18.0284C944.351 16.1191 947.446 15.125 951.355 15.125C955.687 15.125 959.069 16.2055 961.597 18.274C964.164 20.3739 965.508 22.8422 965.734 25.7037L965.806 26.625H966.73H982.48H983.563L983.477 25.5457C982.874 17.9578 979.752 11.9405 974.097 7.5876C968.549 3.16953 961.441 1 952.855 1C946.827 1 941.475 2.01911 936.824 4.0862C932.168 6.15574 928.513 9.14817 925.898 13.0703C923.277 17.0023 921.98 21.575 921.98 26.75C921.98 32.3165 923.266 36.8861 925.938 40.3597C928.531 43.7309 931.659 46.2555 935.318 47.9111L935.331 47.917L935.344 47.9224C938.986 49.4467 943.658 50.9602 949.35 52.4667L949.355 52.468C953.838 53.6305 957.292 54.7015 959.734 55.6785L959.734 55.6785L959.744 55.6826C962.2 56.6332 964.19 57.9672 965.741 59.6727L965.749 59.6817L965.757 59.6905C967.303 61.3096 968.105 63.4238 968.105 66.125C968.105 69.5924 966.851 72.3974 964.327 74.6181C961.814 76.7467 958.242 77.875 953.48 77.875C948.901 77.875 945.463 76.7134 943.033 74.5142C940.645 72.2779 939.289 69.4306 938.977 65.9115L938.896 65H937.98H922.73H921.73V66C921.73 71.1888 923.118 75.7705 925.916 79.7045C928.697 83.6158 932.512 86.6403 937.323 88.7881Z" stroke="white" strokeWidth="2" />
                    <motion.path variants={pathVariants} initial="initial" animate="animate" d="M906.143 91H907.143V90V3V2H906.143H891.893H890.893V3V64.4285L849.851 2.4479L849.555 2H849.018H834.768H833.768V3V90V91H834.768H849.018H850.018V90V28.4518L891.058 90.5514L891.355 91H891.893H906.143Z" stroke="white" strokeWidth="2" />
                    <motion.path variants={pathVariants} initial="initial" animate="animate" d="M753.501 86.1196L753.508 86.1232L753.514 86.1267C760.5 89.9606 768.125 91.875 776.37 91.875C784.697 91.875 792.324 89.9615 799.231 86.1242L799.234 86.1222C806.223 82.2016 811.728 76.7824 815.735 69.8769L815.738 69.8723C819.748 62.8757 821.745 55.0352 821.745 46.375C821.745 37.7149 819.748 29.914 815.735 22.9981C811.728 16.0929 806.223 10.7145 799.233 6.87694C792.326 2.95594 784.698 1 776.37 1C768.122 1 760.495 2.95759 753.508 6.87673C746.601 10.7142 741.098 16.0908 737.01 22.9902L737.01 22.9902L737.005 22.9981C732.992 29.914 730.995 37.7149 730.995 46.375C730.995 55.0352 732.992 62.8757 737.003 69.8723L737.006 69.8786L737.01 69.8848C741.098 76.7829 746.598 82.1993 753.501 86.1196ZM801.36 62.9099L801.357 62.9156C798.94 67.5873 795.571 71.1942 791.241 73.7611C786.91 76.2461 781.962 77.5 776.37 77.5C770.778 77.5 765.83 76.2461 761.499 73.7611C757.169 71.194 753.757 67.5862 751.257 62.9127C748.842 58.1598 747.62 52.6559 747.62 46.375C747.62 40.0923 748.843 34.632 751.255 29.9654C753.755 25.2906 757.167 21.7258 761.493 19.2423C765.826 16.7551 770.775 15.5 776.37 15.5C781.965 15.5 786.915 16.7551 791.247 19.2423C795.572 21.7252 798.941 25.288 801.357 29.9594L801.357 29.9595L801.363 29.9714C803.857 34.6367 805.12 40.0946 805.12 46.375C805.12 52.6549 803.857 58.1575 801.36 62.9099Z" stroke="white" strokeWidth="2" />
                    <motion.path variants={pathVariants} initial="initial" animate="animate" d="M719.036 3.125V2.125H718.036H703.786H702.786V3.125V90V91H703.786H718.036H719.036V90V3.125Z" stroke="white" strokeWidth="2" />
                    <motion.path variants={pathVariants} initial="initial" animate="animate" d="M690.354 3.125V2.125H689.354H628.729H627.729V3.125V14.75V15.75H628.729H650.979V90V91H651.979H666.229H667.229V90V15.75H689.354H690.354V14.75V3.125Z" stroke="white" strokeWidth="2" />
                    <motion.path variants={pathVariants} initial="initial" animate="animate" d="M555.821 91H556.529L556.765 90.3321L562.779 73.25H597.738L603.753 90.3321L603.988 91H604.696H619.696H621.116L620.638 89.6631L589.513 2.66315L589.276 2H588.571H572.071H571.367L571.13 2.66315L540.005 89.6631L539.526 91H540.946H555.821ZM567.485 59.625L580.317 23.2664L593.037 59.625H567.485Z" stroke="white" strokeWidth="2" />
                    <motion.path variants={pathVariants} initial="initial" animate="animate" d="M449.656 22.9902L449.656 22.9902L449.652 22.9981C445.639 29.914 443.642 37.7149 443.642 46.375C443.642 55.0351 445.639 62.836 449.652 69.7519L449.656 69.7598C453.744 76.6579 459.245 82.0743 466.148 85.9946L466.156 85.9992C473.063 89.8365 480.69 91.75 489.017 91.75C498.436 91.75 506.831 89.4566 514.171 84.8481C521.613 80.2284 526.999 73.6369 530.323 65.1134L530.855 63.75H529.392H512.267H511.644L511.369 64.3093C509.198 68.7324 506.206 71.9886 502.401 74.1284C498.571 76.2828 494.12 77.375 489.017 77.375C483.424 77.375 478.476 76.1211 474.145 73.6361C469.815 71.0684 466.402 67.4596 463.902 62.7846C461.489 58.118 460.267 52.6577 460.267 46.375C460.267 40.0923 461.489 34.632 463.902 29.9654C466.402 25.2906 469.813 21.7258 474.139 19.2423C478.472 16.7551 483.422 15.5 489.017 15.5C494.12 15.5 498.571 16.5923 502.401 18.7466C506.206 20.8864 509.198 24.1426 511.369 28.5657L511.644 29.125H512.267H529.392H530.855L530.323 27.7617C527 19.2393 521.615 12.6485 514.174 8.02878C506.834 3.33612 498.438 1 489.017 1C480.768 1 473.141 2.95759 466.154 6.87673C459.248 10.7142 453.745 16.0908 449.656 22.9902Z" stroke="white" strokeWidth="2" />
                    <motion.path variants={pathVariants} initial="initial" animate="animate" d="M431.683 3.125V2.125H430.683H416.433H415.433V3.125V90V91H416.433H430.683H431.683V90V3.125Z" stroke="white" strokeWidth="2" />
                    <motion.path variants={pathVariants} initial="initial" animate="animate" d="M404.227 3.125V2.125H403.227H352.102H351.102V3.125V90V91H352.102H366.352H367.352V90V53H395.102H396.102V52V40.375V39.375H395.102H367.352V15.75H403.227H404.227V14.75V3.125Z" stroke="white" strokeWidth="2" />
                    <motion.path variants={pathVariants} initial="initial" animate="animate" d="M334.393 3.125V2.125H333.393H319.143H318.143V3.125V90V91H319.143H333.393H334.393V90V3.125Z" stroke="white" strokeWidth="2" />
                    <motion.path variants={pathVariants} initial="initial" animate="animate" d="M305.711 3.125V2.125H304.711H244.086H243.086V3.125V14.75V15.75H244.086H266.336V90V91H267.336H281.586H282.586V90V15.75H304.711H305.711V14.75V3.125Z" stroke="white" strokeWidth="2" />
                    <motion.path variants={pathVariants} initial="initial" animate="animate" d="M213.865 90.4988L214.153 91H214.731H231.731H233.493L232.59 89.4873L211.773 54.6302C218.132 52.8489 222.965 49.7254 226.171 45.2047C229.623 40.371 231.356 35.0021 231.356 29.125C231.356 24.1256 230.148 19.5742 227.72 15.4951C225.358 11.3868 221.742 8.13799 216.932 5.73219C212.173 3.31042 206.384 2.125 199.606 2.125H169.606H168.606V3.125V90V91H169.606H183.856H184.856V90V56.25H194.153L213.865 90.4988ZM210.91 39.1571L210.905 39.1625L210.899 39.1679C208.486 41.5809 204.786 42.875 199.606 42.875H184.856V15.75H199.606C204.882 15.75 208.626 17.009 211.036 19.3432L211.042 19.3489L211.048 19.3545C213.467 21.6232 214.731 24.8329 214.731 29.125C214.731 33.4056 213.432 36.7117 210.91 39.1571Z" stroke="white" strokeWidth="2" />
                    <motion.path variants={pathVariants} initial="initial" animate="animate" d="M149.305 40.125V39.125H148.305H119.305V15.625H152.055H153.055V14.625V3V2H152.055H104.055H103.055V3V90V91H104.055H152.055H153.055V90V78.375V77.375H152.055H119.305V52.75H148.305H149.305V51.75V40.125Z" stroke="white" strokeWidth="2" />
                    <motion.path variants={pathVariants} initial="initial" animate="animate" d="M7.63971 22.9902L7.63967 22.9902L7.63506 22.9981C3.62214 29.914 1.625 37.7149 1.625 46.375C1.625 55.0351 3.62214 62.836 7.63503 69.7519L7.63971 69.7598C11.7275 76.6579 17.2281 82.0743 24.1312 85.9946L24.1394 85.9992C31.0465 89.8365 38.6735 91.75 47 91.75C56.4191 91.75 64.8146 89.4566 72.1548 84.8481C79.5966 80.2284 84.9825 73.6369 88.3067 65.1134L88.8384 63.75H87.375H70.25H69.6269L69.3523 64.3093C67.181 68.7324 64.1889 71.9886 60.3847 74.1284C56.5548 76.2828 52.1033 77.375 47 77.375C41.4078 77.375 36.4598 76.1211 32.1286 73.6361C27.7983 71.0684 24.3851 67.4596 21.8851 62.7846C19.4727 58.118 18.25 52.6577 18.25 46.375C18.25 40.0923 19.4727 34.632 21.8852 29.9654C24.385 25.2906 27.7966 21.7258 32.1229 19.2423C36.4554 16.7551 41.4053 15.5 47 15.5C52.1033 15.5 56.5548 16.5923 60.3847 18.7466C64.1889 20.8864 67.181 24.1426 69.3523 28.5657L69.6269 29.125H70.25H87.375H88.8384L88.3067 27.7617C84.9829 19.2393 79.5981 12.6485 72.1579 8.02878C64.8177 3.33612 56.4211 1 47 1C38.7518 1 31.1248 2.95759 24.1378 6.87673C17.2309 10.7142 11.7282 16.0908 7.63971 22.9902Z" stroke="white" strokeWidth="2" />
                </motion.svg>

            </> : <></>}
        </motion.div>


    );
};

export default CertificationsText;